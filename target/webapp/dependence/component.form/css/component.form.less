//
// Forms
// --------------------------------------------------
@import "./code/aweb-variables.less";
@import "./code/aweb-mixins.less";

@formActionsBackground: #f5f5f5;
@inputBackground: @white;
@inputBorderRadius:2px;
@inputPadding: 4px 6px;
@inputWidth: 206px;
@inputSearchQueryRadius: 0;
@inputBorderColor: @grayLightC;
@inputDisabledBackground: @grayLighter;
@helpInlineColor: @white !important;
@helpInlineBackground: #EE3E3E !important;
@formTextWidth: 30px;
@horizontalComponentOffset: 100px;


form[data-widget-type=aweb3FormCtn] {
  margin: 0 0 @computedLineHeight;

  fieldset {
    padding: 0;
    margin: 0;
    border: 0;
  }

  legend {
    display: block;
    width: 100%;
    padding: 0;
    margin-bottom: @computedLineHeight;
    font-size: @baseFontSize * 1.5;
    line-height: @baseLineHeight * 2;
    color: @grayDark;
    border: 0;
    border-bottom: 1px solid #e5e5e5;

    // Small
    small {
      font-size: @computedLineHeight * .75;
      color: @grayLight;
    }
  }

  label,
  input,
  button,
  select,
  textarea {
    #font > .shorthand(@baseFontSize, normal, @baseLineHeight); // Set size, weight, line-height here
    font-size: 1rem;
  }
  input,
  button,
  select,
  textarea {
    font-family: @baseFontFamily; // And only set font-family here for those that need it (note the missing label element)
    outline: none;
  }

  label {
    display: block;
    margin-bottom: 5px;
  }

  select,
  textarea,
  input[type="text"],
  input[type="money"],
  input[type="password"],
  input[type="datetime"],
  input[type="datetime-local"],
  input[type="date"],
  input[type="month"],
  input[type="time"],
  input[type="week"],
  input[type="number"],
  input[type="email"],
  input[type="url"],
  input[type="search"],
  input[type="tel"],
  input[type="color"],
  .uneditable-input {
    display: inline-block;
    height: @computedLineHeight;
    padding: @inputPadding;
    margin-bottom: @computedLineHeight / 2;
    font-size: @baseFontSize;
    line-height: @baseLineHeight;
    color: @gray;
    .border-radius(@inputBorderRadius);
    vertical-align: middle;
  }

  input,
  textarea,
  .uneditable-input {
    width: @inputWidth; // plus 12px padding and 2px border
  }
  // Reset height since textareas have rows
  textarea {
    height: auto;
  }

  textarea,
  input[type="text"],
  input[type="money"],
  input[type="password"],
  input[type="datetime"],
  input[type="datetime-local"],
  input[type="date"],
  input[type="month"],
  input[type="time"],
  input[type="week"],
  input[type="number"],
  input[type="email"],
  input[type="url"],
  input[type="search"],
  input[type="tel"],
  input[type="color"],
  .uneditable-input {
    /*background-color: @inputBackground;*/
    background-color: rgba(255, 255, 255, 1);
    border: 1px solid @inputBorderColor;
    .box-shadow(inset 0 1px 1px rgba(0, 0, 0, .075));
    .transition(~"border linear .2s, box-shadow linear .2s");

    // Focus state
    &:focus {
      border-color: rgba(82, 168, 236, .8);
      outline: 0;
      //outline: thin dotted \9; /* IE6-9 */
      .box-shadow(~"inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(82,168,236,.6)");
    }
  }

  input[type="radio"],
  input[type="checkbox"] {
    margin: 4px 0 0;
    *margin-top: 0; /* IE7 */
    margin-top: 1px \9; /* IE8-9 */
    line-height: normal;
  }

  input[type="file"],
  input[type="image"],
  input[type="submit"],
  input[type="reset"],
  input[type="button"],
  input[type="radio"],
  input[type="checkbox"] {
    width: auto; // Override of generic input selector
  }

  select,
  input[type="file"] {
    height: @inputHeight; /* In IE7, the height of the select element cannot be changed by height, only font-size */
    *margin-top: 4px; /* For IE7, add top margin to align select with labels */
    line-height: @inputHeight;
  }

  select {
    width: 220px; // default input width + 10px of padding that doesn't get applied
    border: 1px solid @inputBorderColor;
    background-color: @inputBackground; // Chrome on Linux and Mobile Safari need background-color
  }

  select[multiple],
  select[size] {
    height: auto;
  }

  select:focus,
  input[type="file"]:focus,
  input[type="radio"]:focus,
  input[type="checkbox"]:focus {
    .tab-focus();
  }

  .uneditable-input,
  .uneditable-textarea {
    color: @grayLight;
    background-color: darken(@inputBackground, 1%);
    border-color: @inputBorderColor;
    .box-shadow(inset 0 1px 2px rgba(0, 0, 0, .025));
    cursor: not-allowed;
  }

  .uneditable-input {
    overflow: hidden; // prevent text from wrapping, but still cut it off like an input does
    white-space: nowrap;
  }

  .uneditable-textarea {
    width: auto;
    height: auto;
  }

  input,
  textarea {
    .placeholder();
  }

  .radio,
  .checkbox {
    min-height: @computedLineHeight; // clear the floating input if there is no label text
    padding-left: 20px;
  }

  .radio input[type="radio"],
  .checkbox input[type="checkbox"] {
    float: left;
    margin-left: -20px;
  }

  .controls > .radio.inline:first-child,
  .controls > .checkbox.inline:first-child {
    padding-top: 5px; // has to be padding because margin collaspes
    margin-left: 10px;
  }

  .radio.inline,
  .checkbox.inline {
    display: inline-block;
    padding-top: 5px;
    margin-bottom: 0;
    vertical-align: middle;
  }

  .radio.inline + .radio.inline,
  .checkbox.inline + .checkbox.inline {
    margin-left: 10px; // space out consecutive inline controls
  }

  .input-mini {
    width: 60px;
  }
  .input-small {
    width: 90px;
  }
  .input-medium {
    width: 150px;
  }
  .input-large {
    width: 210px;
  }
  .input-xlarge {
    width: 270px;
  }
  .input-xxlarge {
    width: 530px;
  }

  input[class*="span"],
  select[class*="span"],
  textarea[class*="span"],
  .uneditable-input[class*="span"],
    // Redeclare since the fluid row class is more specific
  .row-fluid input[class*="span"],
  .row-fluid select[class*="span"],
  .row-fluid textarea[class*="span"],
  .row-fluid .uneditable-input[class*="span"] {
    float: none;
    margin-left: 0;
  }

  .input-append input[class*="span"],
  .input-append .uneditable-input[class*="span"],
  .input-prepend input[class*="span"],
  .input-prepend .uneditable-input[class*="span"],
  .row-fluid input[class*="span"],
  .row-fluid select[class*="span"],
  .row-fluid textarea[class*="span"],
  .row-fluid .uneditable-input[class*="span"],
  .row-fluid .input-prepend [class*="span"],
  .row-fluid .input-append [class*="span"] {
    display: inline-block;
  }

  #grid > .input(@gridColumnWidth, @gridGutterWidth);

  .controls-row {
    .clearfix(); // Clear the float from controls
  }

  .controls-row [class*="span"],
  .row-fluid .controls-row [class*="span"] {
    float: left;
  }

  .controls-row .checkbox[class*="span"],
  .controls-row .radio[class*="span"] {
    padding-top: 5px;

  }

  input[disabled],
  select[disabled],
  textarea[disabled],
  select[readonly],
  textarea[readonly] {
    cursor: not-allowed;
    background-color: @inputDisabledBackground;
  }

  input[type="radio"][disabled],
  input[type="checkbox"][disabled],
  input[type="radio"][readonly],
  input[type="checkbox"][readonly] {
    background-color: transparent;
  }

  .control-group.warning {
    .formFieldState(@warningText, @warningText, @warningBackground);
  }
  .control-group.error {
    .formFieldState(@errorText, @errorText, @errorBackground);
  }
  // Success
  .control-group.success {
    .formFieldState(@successText, @successText, @successBackground);
  }
  // Success
  .control-group.info {
    .formFieldState(@infoText, @infoText, @infoBackground);
  }

  input:focus:invalid,
  textarea:focus:invalid,
  select:focus:invalid {
    color: #b94a48;
    border-color: #ee5f5b;
    &:focus {
      border-color: darken(#ee5f5b, 10%);
      @shadow: 0 0 6px lighten(#ee5f5b, 20%);
      .box-shadow(@shadow);
    }
  }

  &.form-actions {
    padding: (@computedLineHeight - 1) 20px @computedLineHeight;
    margin-top: @computedLineHeight;
    margin-bottom: @computedLineHeight;
    background-color: @formActionsBackground;
    border-top: 1px solid #e5e5e5;
    .clearfix(); // Adding clearfix to allow for .pull-right button containers
  }

  .help-block,
  .help-inline {
    color: lighten(@textColor, 15%); // lighten the text some for contrast
  }

  .help-block {
    display: block; // account for any element using help-block
    margin-bottom: @computedLineHeight / 2;
  }

  .help-inline {
    position: relative;
    padding: 5px;
    font-size: 12px;
    color: @helpInlineColor;
    vertical-align: middle;
    background-color: @helpInlineBackground;
    -webkit-border-radius: 2px;
    -moz-border-radius: 2px;
    border-radius: 2px;
    -webkit-box-shadow: 0 2px 3px @grayDark;
    -moz-box-shadow: 0 2px 3px @grayDark;
    box-shadow: 0 2px 3px @grayDark;
    font-style: normal !important;
    line-height: 2.0 !important;
    font-weight: bold;
    margin-top: 2px;
  }

  .help-inline:after, .help-inline:before {
    position: absolute;
    bottom: 100%;
    left: 10px;
    border: solid transparent;
    border-bottom-color: @helpInlineBackground;
    content: "";
    height: 0;
    width: 0;
    pointer-events: none;
    border-width: 5px;
  }

  .input-append,
  .input-prepend {
    display: inline-block;
    margin-bottom: @computedLineHeight / 2;
    vertical-align: middle;
    font-size: 0; // white space collapse hack
    white-space: nowrap; // Prevent span and input from separating

    // Reset the white space collapse hack
    input,
    select,
    .uneditable-input,
    .aui-dropdown-menu,
    .popover {
      font-size: @baseFontSize;
    }

    input,
    select,
    .uneditable-input {
      position: relative; // placed here by default so that on :focus we can place the input above the .add-on for full border and box-shadow goodness
      margin-bottom: 0; // prevent bottom margin from screwing up alignment in stacked forms
      *margin-left: 0;
      vertical-align: top;
      .border-radius(0 @inputBorderRadius @inputBorderRadius 0);
      // Make input on top when focused so blue border and shadow always show
      &:focus {
        z-index: 2;
      }
    }
    .add-on {
      display: inline-block;
      width: auto;
      height: @computedLineHeight;
      min-width: 16px;
      padding: 4px 5px;
      font-size: @baseFontSize;
      font-weight: normal;
      line-height: @baseLineHeight;
      text-align: center;
      text-shadow: 0 1px 0 @white;
      background-color: @grayLighter;
      border: 1px solid #ccc;
    }
    .add-on,
    .btn,
    .btn-group > .aui-dropdown-toggle {
      vertical-align: top;
      .border-radius(0);
    }
    .active {
      background-color: lighten(@green, 30);
      border-color: @green;
    }
  }

  .input-prepend {
    .add-on,
    .btn {
      margin-right: -1px;
    }
    .add-on:first-child,
    .btn:first-child {
      // FYI, `.btn:first-child` accounts for a button group that's prepended
      .border-radius(@inputBorderRadius 0 0 @inputBorderRadius);
    }
  }

  .input-append {
    input,
    select,
    .uneditable-input {
      .border-radius(@inputBorderRadius 0 0 @inputBorderRadius);
      + .btn-group .btn:last-child {
        .border-radius(0 @inputBorderRadius @inputBorderRadius 0);
      }
    }
    .add-on,
    .btn,
    .btn-group {
      margin-left: -1px;
    }
    .add-on:last-child,
    .btn:last-child,
    .btn-group:last-child > .aui-dropdown-toggle {
      .border-radius(0 @inputBorderRadius @inputBorderRadius 0);
    }
  }

  // Remove all border-radius for inputs with both prepend and append
  .input-prepend.input-append {
    input,
    select,
    .uneditable-input {
      .border-radius(0);
      + .btn-group .btn {
        .border-radius(0 @inputBorderRadius @inputBorderRadius 0);
      }
    }
    .add-on:first-child,
    .btn:first-child {
      margin-right: -1px;
      .border-radius(@inputBorderRadius 0 0 @inputBorderRadius);
    }
    .add-on:last-child,
    .btn:last-child {
      margin-left: -1px;
      .border-radius(0 @inputBorderRadius @inputBorderRadius 0);
    }
    .btn-group:first-child {
      margin-left: 0;
    }
  }

  input.search-query {
    padding-right: 14px;
    padding-right: 4px \9;
    padding-left: 14px;
    padding-left: 4px \9; /* IE7-8 doesn't have border-radius, so don't indent the padding */
    margin-bottom: 0; // Remove the default margin on all inputs
    .border-radius(@inputSearchQueryRadius);
    background: url(../img/search.png) no-repeat;
    padding-left: 25px !important;
    height: 18px;
    box-sizing: content-box;
  }

  /* Allow for input prepend/append in search forms */
  &.form-search .input-append .search-query,
  &.form-search .input-prepend .search-query {
    .border-radius(0); // Override due to specificity
  }
  &.form-search .input-append .search-query {
    .border-radius(14px 0 0 14px);
  }
  &.form-search .input-append .btn {
    .border-radius(0 14px 14px 0);
  }
  &.form-search .input-prepend .search-query {
    .border-radius(0 14px 14px 0);
  }
  &.form-search .input-prepend .btn {
    .border-radius(14px 0 0 14px);
  }

  &.form-horizontal,
  &.form-search,
  &.form-inline {
    input,
    textarea,
    select,
    .help-inline,
    .uneditable-input,
    .input-prepend,
    .input-append {
      display: inline-block;
      .ie7-inline-block();
      margin-bottom: 0;
      vertical-align: middle;
    }
    // Re-hide hidden elements due to specifity
    .hide {
      display: none;
    }
  }

  &.form-inline label,
  &.form-inline .btn-group,
  &.form-search label,
  &.form-search .btn-group {
    display: inline-block;
  }

  &.form-horizontal .control-label{
    padding:0 1em;
  }
  &.form-inline label>span{
    display: inline-block;
    //width: @formTextWidth;
    padding: .5em 0;
    min-width: @formTextWidth;
    white-space: nowrap;

  }

  /*form align start*/
  /*.form-inline label>span,*/

  /*form align end*/

  // Remove margin for input-prepend/-append
  &.form-search .input-append,
  &.form-inline .input-append,
  &.form-search .input-prepend,
  &.form-inline .input-prepend {
    margin-bottom: 0;
  }
  // Inline checkbox/radio labels (remove padding on left)
  &.form-search .radio,
  &.form-search .checkbox,
  &.form-inline .radio,
  &.form-inline .checkbox {
    padding-left: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  // Remove float and margin, set to inline-block
  &.form-search .radio input[type="radio"],
  &.form-search .checkbox input[type="checkbox"],
  &.form-inline .radio input[type="radio"],
  &.form-inline .checkbox input[type="checkbox"] {
    float: left;
    margin-right: 3px;
    margin-left: 0;
  }


  // Margin to space out fieldsets
  .control-group {
    margin-bottom: @computedLineHeight / 2;
  }

  // Legend collapses margin, so next element is responsible for spacing
  legend + .control-group {
    margin-top: @computedLineHeight;
    -webkit-margin-top-collapse: separate;
  }

  // Horizontal-specific styles
  // --------------------------

  &.form-horizontal {
    // Increase spacing between groups
    .control-group {
      margin-bottom: @computedLineHeight;
      .clearfix();
    }
    // Float the labels left
    .control-label {
      float: left;
      width: @horizontalComponentOffset - 20;
      padding-top: 5px;
      text-align: right;
    }
    // Move over all input controls and content
    .controls {
      // Super jank IE7 fix to ensure the inputs in .input-append and input-prepend
      // don't inherit the margin of the parent, in this case .controls
      *display: inline-block;
      *padding-left: 20px;
      margin-left: @horizontalComponentOffset;
      *margin-left: 0;
      &:first-child {
        *padding-left: @horizontalComponentOffset;
      }
    }
    // Remove bottom margin on block level help text since that's accounted for on .control-group
    .help-block {
      margin-bottom: 0;
    }
    // And apply it only to .help-block instances that follow a form control
    input,
    select,
    textarea,
    .uneditable-input,
    .input-prepend,
    .input-append {
      + .help-block {
        margin-top: @computedLineHeight / 2;
      }
    }
    // Move over buttons in .form-actions to align with .controls
    .form-actions {
      padding-left: @horizontalComponentOffset;
    }
  }


  .checkbox-group,.radio-group{min-height:30px}
  .form-inline-radio-group-label{
    float: none!important;
  }
  .form-inline-radio-group{
    display: inline-block !important;
    vertical-align: middle;
    float: none !important;
    margin-left: 0 !important;
  }
}